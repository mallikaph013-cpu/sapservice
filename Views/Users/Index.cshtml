@model IEnumerable<myapp.Models.ApplicationUser>

@{ ViewData["Title"] = "Users"; }

<link rel="stylesheet" href="~/css/users.css" />

<div class="card">
    <div class="card-header">
        <h1><i class="fas fa-users"></i> Users</h1>
    </div>
    <div class="card-body">
        <p>
            <a asp-action="Create" class="btn btn-primary"><i class="fas fa-plus"></i> Create New</a>
        </p>
        <table class="table table-hover">
            <thead>
                <tr>
                    <th><i class="fas fa-user"></i> @Html.DisplayNameFor(model => model.UserName)</th>
                    <th><i class="fas fa-user-tag"></i> @Html.DisplayNameFor(model => model.FirstName)</th>
                    <th><i class="fas fa-user-tag"></i> @Html.DisplayNameFor(model => model.LastName)</th>
                    <th><i class="fas fa-building"></i> @Html.DisplayNameFor(model => model.Department)</th>
                    <th><i class="fas fa-sitemap"></i> @Html.DisplayNameFor(model => model.Section)</th>
                    <th><i class="fas fa-industry"></i> @Html.DisplayNameFor(model => model.Plant)</th>
                    <th><i class="fas fa-check-circle"></i> @Html.DisplayNameFor(model => model.IsActive)</th>
                    <th><i class="fas fa-user-shield"></i> @Html.DisplayNameFor(model => model.IsIT)</th>
                    <th><i class="fas fa-clock"></i> @Html.DisplayNameFor(model => model.CreatedAt)</th>
                    <th><i class="fas fa-user-edit"></i> @Html.DisplayNameFor(model => model.CreatedBy)</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.OrderByDescending(u => u.CreatedAt))
                {
                    <tr>
                        <td>@Html.DisplayFor(modelItem => item.UserName)</td>
                        <td>@Html.DisplayFor(modelItem => item.FirstName)</td>
                        <td>@Html.DisplayFor(modelItem => item.LastName)</td>
                        <td>@Html.DisplayFor(modelItem => item.Department)</td>
                        <td>@Html.DisplayFor(modelItem => item.Section)</td>
                        <td>@Html.DisplayFor(modelItem => item.Plant)</td>
                        <td>
                            <span class="@(item.IsActive ? "status-active" : "status-inactive")">
                                @(item.IsActive ? "Active" : "Inactive")
                            </span>
                        </td>
                        <td>
                            <span class="@(item.IsIT ? "status-active" : "status-inactive")">
                                @(item.IsIT ? "Yes" : "No")
                            </span>
                        </td>
                        <td>@item.CreatedAt.ToLocalTime().ToString("g")</td>
                        <td>@Html.DisplayFor(modelItem => item.CreatedBy)</td>
                        <td class="action-links">
                            <a asp-action="Edit" asp-route-id="@item.Id" title="Edit"><i class="fas fa-edit"></i></a>
                            <a asp-action="Details" asp-route-id="@item.Id" title="Details"><i class="fas fa-info-circle"></i></a>
                            <a asp-action="Delete" asp-route-id="@item.Id" title="Delete"><i class="fas fa-trash-alt"></i></a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>
